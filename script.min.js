let translations={};async function loadTranslations(e){if(translations[e])return translations[e];try{const t=await fetch(`translations/${e}.json?v=1`);if(!t.ok)throw new Error(`Failed to load ${e} translations`);const o=await t.json();return translations[e]=o,o}catch(t){return console.error("Error loading translations:",t),"en"!==e?loadTranslations("en"):{}}}window.addEventListener("scroll",()=>{const e=document.getElementById("progressBar"),t=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=window.scrollY/t*100;e.style.width=o+"%"});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},animateOnScroll=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),animateOnScroll.unobserve(e.target))})},observerOptions);function typeWriter(e,t,o=50){e.classList.add("typing");let n=0;e.innerHTML="",function a(){if(n<t.length){if("<"===t.charAt(n)){const o=t.indexOf(">",n);e.innerHTML+=t.substring(n,o+1),n=o+1}else e.innerHTML+=t.charAt(n),n++;setTimeout(a,o)}}()}window.addEventListener("load",()=>{console.log("Initializing animations...");const e=document.querySelector(".hero-title"),t=document.querySelector(".hero-subtitle"),o=document.querySelector(".hero-badge"),n=document.querySelector(".hero-buttons"),a=document.querySelectorAll(".visual-card"),r=document.querySelectorAll(".person"),c=document.querySelector(".globe");e&&setTimeout(()=>{e.classList.add("animate-in")},100),t&&setTimeout(()=>{t.classList.add("animate-in")},600),o&&setTimeout(()=>{o.classList.add("animate-in")},900),n&&setTimeout(()=>{n.classList.add("animate-in")},1200),a.forEach(e=>{setTimeout(()=>{e.classList.add("animate-in")},1800)}),r.forEach(e=>{e.classList.add("animate-in")}),c&&c.classList.add("animate-in");const s=document.querySelectorAll(".section-title, .section-subtitle");console.log("Found titles:",s.length),s.forEach(e=>{e.classList.add("fade-up"),animateOnScroll.observe(e)});const l=document.querySelectorAll(".service-card");console.log("Found service cards:",l.length),l.forEach((e,t)=>{e.classList.add("fade-up"),e.style.setProperty("--animation-order",t),animateOnScroll.observe(e)});const i=document.querySelectorAll(".process-step");console.log("Found process steps:",i.length),i.forEach((e,t)=>{e.classList.add("fade-up"),e.style.setProperty("--animation-order",t),animateOnScroll.observe(e)});const d=document.querySelectorAll(".benefit-card");console.log("Found benefit cards:",d.length),d.forEach((e,t)=>{e.classList.add("fade-up"),e.style.setProperty("--animation-order",t),animateOnScroll.observe(e)});const u=document.querySelectorAll(".pricing-card");console.log("Found pricing cards:",u.length),u.forEach((e,t)=>{e.classList.add("fade-up"),e.style.setProperty("--animation-order",t),animateOnScroll.observe(e)});const g=document.querySelectorAll(".audit-benefit");console.log("Found audit benefits:",g.length),g.forEach((e,t)=>{e.classList.add("fade-up"),e.style.setProperty("--animation-order",t),animateOnScroll.observe(e)});const m=document.querySelector(".report-preview");m&&(console.log("Found report preview"),m.classList.add("fade-up"),animateOnScroll.observe(m)),console.log("Animations initialized!")});const TELEGRAM_CONFIG={botToken:"8336078154:AAGiXKkPV0ogtFzE3tSvu-a8ycskbcOsGks",chatId:"7684077395",googleScriptUrl:"https://script.google.com/macros/s/AKfycbzVmClpZJKAmRQXyxVqyXBEJEEP5VMUEBEQvFZPf5XP6fnr1G2fthfK71AJ38JzXy4m/exec"};document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const mobileMenuBtn=document.querySelector(".mobile-menu-btn"),nav=document.querySelector(".nav");mobileMenuBtn&&mobileMenuBtn.addEventListener("click",()=>{nav.classList.toggle("active"),mobileMenuBtn.classList.toggle("active")});let lastScroll=0;const header=document.querySelector(".header");function detectBrowserLanguage(){const e=(navigator.language||navigator.userLanguage).toLowerCase().split("-")[0];return"ru"===e?"ru":"uk"===e||"ua"===e?"ua":"en"}function getLanguageFromURL(){const e=new URLSearchParams(window.location.search).get("lang");if(e&&["ru","ua","en"].includes(e))return e;const t=localStorage.getItem("selectedLanguage");return t&&["ru","ua","en"].includes(t)?t:detectBrowserLanguage()}window.addEventListener("scroll",()=>{const e=window.pageYOffset;e>100?(header.style.padding="12px 0",header.style.boxShadow="0 2px 20px rgba(0, 0, 0, 0.3)"):(header.style.padding="18px 0",header.style.boxShadow="none");const t=document.querySelector(".scroll-top");t&&(t.style.display=e>300?"flex":"none"),lastScroll=e});let currentLang=getLanguageFromURL();const langBtn=document.querySelector(".lang-btn"),langOptions=document.querySelectorAll(".lang-option"),langDropdown=document.querySelector(".lang-dropdown");if(console.log("Language switcher initialized:",{langBtn:langBtn,langOptionsCount:langOptions.length}),langBtn&&langDropdown){let e=!1;const t=t=>{if(t.stopPropagation(),t.preventDefault(),e)return;e=!0,setTimeout(()=>{e=!1},300);const o=langDropdown.classList.contains("active");langDropdown.classList.toggle("active"),!o&&window.innerWidth<=768&&requestAnimationFrame(()=>{const e=langBtn.getBoundingClientRect(),t=e.left+e.width/2-30;langDropdown.style.left=t+"px",langDropdown.style.top=e.bottom+4+"px"})};langBtn.addEventListener("click",t),langBtn.addEventListener("touchend",t);const o=e=>{!e.target.closest(".lang-switcher")&&langDropdown.classList.contains("active")&&(langDropdown.classList.remove("active"),console.log("Dropdown closed - clicked outside"))};document.addEventListener("click",o),document.addEventListener("touchend",o)}function updateURL(e){let t;t="en"===e?window.location.origin+"/":window.location.origin+"/?lang="+e,window.history.pushState({lang:e},"",t)}async function switchLanguage(e){currentLang=e,document.documentElement.setAttribute("lang",e);const t={ru:"RU",en:"ENG",ua:"UA"};langBtn&&(langBtn.textContent=t[e]),localStorage.setItem("selectedLanguage",e),await loadTranslations(e),translatePage(e)}function translatePage(e){document.querySelectorAll("[data-i18n]").forEach(t=>{const o=t.getAttribute("data-i18n"),n=translations[e][o];if(n){const e=t.querySelector(".section-title-icon");t.innerHTML=n,e&&t.insertBefore(e,t.firstChild),t.querySelectorAll("img").forEach(e=>{const t=e.getAttribute("src");t&&(e.removeAttribute("src"),e.offsetWidth,requestAnimationFrame(()=>{e.setAttribute("src",t),e.onload=function(){this.style.opacity="1"},e.onerror=function(){console.warn("Image load failed, retrying:",t);const e=t.split("?")[0];this.src=e+"?t="+Date.now()}}))})}});document.querySelectorAll("[data-i18n-placeholder]").forEach(t=>{const o=t.getAttribute("data-i18n-placeholder"),n=translations[e][o];n&&(t.placeholder=n)})}langBtn&&langOptions.length>0&&langOptions.forEach(e=>{console.log("Adding listener to:",e.dataset.lang);const t=async t=>{t.preventDefault(),t.stopPropagation();const o=e.dataset.lang;console.log("Language selected:",o,"Event type:",t.type),await switchLanguage(o),updateURL(o),langDropdown&&langDropdown.classList.remove("active")};e.addEventListener("click",t),e.addEventListener("touchend",t)}),window.addEventListener("DOMContentLoaded",async()=>{const e=getLanguageFromURL();await switchLanguage(e);new URLSearchParams(window.location.search).has("lang")||"en"===e||updateURL(e)});const contactForm=document.getElementById("contactForm"),formMessage=document.getElementById("formMessage");async function sendToTelegram(e){const t={name:e.name,contact:e.contact,company:e.company,market:e.market,project:e.project,timestamp:(new Date).toLocaleString("ru-RU")};console.log("üì§ Sending form data to Google Apps Script..."),console.log("URL:",TELEGRAM_CONFIG.googleScriptUrl),console.log("Payload:",t);try{const e=await fetch(TELEGRAM_CONFIG.googleScriptUrl,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return console.log("‚úÖ Form sent successfully to Google Apps Script"),console.log("Response:",e),{success:!0}}catch(e){throw console.error("‚ùå Error sending to Google Apps Script:",e),e}}function showMessage(e,t){const o=document.getElementById("formMessage");if(!o)return console.error("formMessage element not found"),void alert(e);o.textContent=e,o.className="form-message "+t,o.style.display="block",setTimeout(()=>{o.style.display="none"},5e3)}function animateCounter(e,t,o=2e3){const n=parseFloat(t),a=t.includes("."),r=(t.includes("-"),t.match(/[a-zA-Z%+\-x]/g)?.join("")||"");let c=0;const s=n/(o/16),l=setInterval(()=>{c+=s,s>0&&c>=n||s<0&&c<=n?(e.textContent=t,clearInterval(l)):e.textContent=a?c.toFixed(1)+r:Math.floor(c)+r},16)}contactForm&&contactForm.addEventListener("submit",async e=>{e.preventDefault();const t=new FormData(e.target),o={name:t.get("name")?.trim()||"",contact:t.get("contact")?.trim()||"",company:t.get("company")?.trim()||"–ù–µ —É–∫–∞–∑–∞–Ω–∞",market:t.get("market")?.trim()||"–ù–µ —É–∫–∞–∑–∞–Ω–∞",project:t.get("project")?.trim()||"–ù–µ —É–∫–∞–∑–∞–Ω"};if(console.log("Form data:",o),!o.name||!o.contact)return console.log("Validation failed:",{name:o.name,contact:o.contact}),void showMessage("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è","error");console.log("Validation passed, sending form...");const n=contactForm.querySelector('button[type="submit"]'),a=n.textContent;n.disabled=!0,n.textContent="–û—Ç–ø—Ä–∞–≤–∫–∞...";try{await sendToTelegram(o),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"form_submission",formName:"contact_form",formData:{name:o.name,contact:o.contact,company:o.company,market:o.market}}),console.log("‚úÖ Form submission event pushed to GTM dataLayer"),contactForm.reset();const e=localStorage.getItem("selectedLanguage")||"en";setTimeout(()=>{window.location.href=`thankyou.html?lang=${e}`},500)}catch(e){console.error("Error:",e),showMessage("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.","error")}finally{n.disabled=!1,n.textContent=a}});const statsObserver=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&!e.target.dataset.animated){const t=e.target.querySelector(".stat-number");if(t){animateCounter(t,t.textContent),e.target.dataset.animated="true"}}})},{threshold:.5});document.querySelectorAll(".stat-item").forEach(e=>{statsObserver.observe(e)});const scrollTopBtn=document.querySelector(".scroll-top");scrollTopBtn&&(scrollTopBtn.style.display="none",scrollTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll('a[href*="t.me"], .telegram').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"telegram_click",button_location:e.closest(".hero")?"hero":e.closest(".floating-buttons")?"floating":e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üì± Telegram click tracked")})}),document.querySelectorAll('a[href*="wa.me"], .whatsapp').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"whatsapp_click",button_location:e.closest(".floating-buttons")?"floating":e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üì± WhatsApp click tracked")})}),document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"phone_click",phone_number:e.getAttribute("href").replace("tel:",""),button_location:e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üìû Phone click tracked")})}),document.querySelectorAll('a[href^="mailto:"]').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"email_click",button_location:e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("‚úâÔ∏è Email click tracked")})}),document.querySelectorAll('a[href*="youtube.com"], .youtube').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"youtube_click",button_location:e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üì∫ YouTube click tracked")})}),document.querySelectorAll('a[href*="instagram.com"], .instagram').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"instagram_click",button_location:e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üì∑ Instagram click tracked")})}),document.querySelectorAll('a[href*="linkedin.com"], .linkedin').forEach(e=>{e.addEventListener("click",()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"linkedin_click",button_location:e.closest(".contact")?"contact":e.closest(".footer")?"footer":"other"}),console.log("üíº LinkedIn click tracked")})});let scrollDepth50Tracked=!1,scrollDepth75Tracked=!1;window.addEventListener("scroll",()=>{const e=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;e>=50&&!scrollDepth50Tracked&&(scrollDepth50Tracked=!0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"scroll_depth",scroll_percentage:50}),console.log("üìú Scroll 50% tracked")),e>=75&&!scrollDepth75Tracked&&(scrollDepth75Tracked=!0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"scroll_depth",scroll_percentage:75}),console.log("üìú Scroll 75% tracked"))});let timeOnSite2MinTracked=!1;if(setTimeout(()=>{timeOnSite2MinTracked||(timeOnSite2MinTracked=!0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"time_on_site",duration_seconds:120}),console.log("‚è±Ô∏è Time on site 2 minutes tracked"))},12e4),console.log("%c QBIC Ads ","background: #00d4ff; color: #1a1a2e; font-size: 20px; font-weight: bold; padding: 10px;"),console.log("%c üöÄ Google Ads Landing Page –≥–æ—Ç–æ–≤–∞! ","background: #10b981; color: white; font-size: 14px; padding: 5px;"),console.log("%c üìä GTM Conversion Tracking –∞–∫—Ç–∏–≤–µ–Ω ","background: #8b5cf6; color: white; font-size: 14px; padding: 5px;"),"YOUR_BOT_TOKEN_HERE"===TELEGRAM_CONFIG.botToken&&(console.log("%c ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫! ","background: #ef4444; color: white; font-size: 14px; padding: 5px;"),console.log('\nüì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞:\n\n1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ @BotFather\n2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot\n3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞\n4. –û—Ç–∫—Ä–æ–π—Ç–µ script.js –∏ –∑–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_TOKEN_HERE –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω\n\n5. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å chat_id:\n   - –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤–∞—à–µ–º—É –±–æ—Ç—É\n   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates\n   - –ù–∞–π–¥–∏—Ç–µ "chat":{"id":123456789} - —ç—Ç–æ –≤–∞—à chat_id\n   - –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_CHAT_ID_HERE –≤ script.js\n\n6. –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –∑–∞—è–≤–∫–∏ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ Telegram üéâ\n\n–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥—Ä—É–≥–æ–π backend –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º.\n    ')),window.addEventListener("scroll",()=>{const e=document.querySelector(".hero-background");if(e){const t=window.pageYOffset;e.style.transform=`translateY(${.5*t}px)`}}),"IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src"),t.unobserve(o))}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}function openReportModal(){const e=document.getElementById("reportModal");e&&(e.style.display="block",document.body.style.overflow="hidden")}function closeReportModal(){const e=document.getElementById("reportModal");e&&(e.style.display="none",document.body.style.overflow="auto")}window.addEventListener("load",()=>{document.body.style.opacity="0",setTimeout(()=>{document.body.style.transition="opacity 0.5s ease",document.body.style.opacity="1"},100)}),document.addEventListener("keydown",function(e){"Escape"===e.key&&closeReportModal()});